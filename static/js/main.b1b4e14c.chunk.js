(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){e.exports=a.p+"static/media/gettingStarted.a7e56776.md"},122:function(e,t,a){e.exports=a(261)},261:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),i=a.n(c),s=a(24),o=a(46),l=a(15),u=a.n(l),d=a(23),h=a(33),p=a(34),m=a(36),f=a(35),v=a(37),b=a(45),g=a(5),k=a.n(g),y=a(27),E=a(59),w=a.n(E),x=a(60),S=a.n(x),O=a(57),j=a.n(O),A=Object(y.createMuiTheme)({palette:{primary:{light:w.a[300],main:w.a[500],dark:w.a[700]},secondary:{light:S.a[300],main:S.a[500],dark:S.a[700]}},typography:{useNextVariants:!0}});var C=function(e){return function(t){return r.a.createElement(y.MuiThemeProvider,{theme:A},r.a.createElement(j.a,null),r.a.createElement(e,t))}},D=a(62),L=a(28),I=a(113),P=a.n(I),R=a(38),N=a.n(R),T=a(116),F=a.n(T),M=a(64),B=a.n(M),W=a(111),q=a.n(W),Z=a(47),G=a.n(Z),H=a(63),K=a.n(H),J=a(48),z=a.n(J),V=a(119),Y=a.n(V),$=a(114),Q=a.n($),U=a(76),X=a.n(U),_=a(44),ee=a.n(_),te=a(117),ae=a.n(te),ne=a(118),re=a.n(ne),ce=a(120),ie=a.n(ce),se=a(77),oe=a.n(se),le=a(115),ue=a.n(le),de=a(112),he=a.n(de),pe={ZiveLab:["00:1b:c5:08:10","00:1b:c5:08:11","00:1b:c5:08:12","00:1b:c5:08:13","00:1b:c5:08:14","00:1b:c5:08:15","00:1b:c5:08:16","00:1b:c5:08:17","00:1b:c5:08:18","00:1b:c5:08:19","00:1b:c5:08:1a","00:1b:c5:08:1b","00:1b:c5:08:1c","00:1b:c5:08:1d","00:1b:c5:08:1e","00:1b:c5:08:1f"]};function me(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!function(e){if(/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e))return!0;return alert("You have entered an invalid IP address!"),!1}(e))return null;var a=e.substr(0,e.lastIndexOf(".")+1);return t?Array.from({length:255},function(e,t){return a+(t+1)}):Array.from({length:253},function(e,t){return a+(t+2)})}function fe(e){return"ZiveLab"===function(e,t){var a=e.toLowerCase().split(":").slice(0,5).join(":");if(t&&pe[t]&&pe[t].indexOf(a)>-1)return t;if(-1===JSON.stringify(pe).indexOf(a))return!1;for(var n in pe)if(pe[n].indexOf(a)>-1)return n}(e,"ZiveLab")}var ve=a(106),be=a(108),ge=a.n(be),ke=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).state={md:""},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=this;fetch(ge.a).then(function(e){return e.text()}).then(function(t){e.setState({md:t})})}},{key:"render",value:function(){var e=this.state.md;return r.a.createElement("div",{className:"post"},r.a.createElement(ve.a,{children:e}))}}]),t}(n.Component),ye=a(121),Ee=a(20),we=a(2),xe=a.n(we),Se=a(61),Oe=a.n(Se),je=a(109),Ae=a.n(je),Ce=(new Date).getTime(),De={NotAssigned:"NotAssigned",Idle:"Idle",Running:"Running",Finished:"Finished",Stopped:"Stopped",RunningNoiseLevel:"RunningNoiseLevel"},Le={initialFrequency:1e3,finalFrequency:1,density:10,iteration:1,currentRange:2,maxInitialDelay:12,skip:1,cycles:0},Ie=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).state={about:null,channel:null,cook:null,parameters:Le,activeIndex:-1,auxData:[]},console.log(a.props),a.loadAboutAsync=a.loadAboutAsync.bind(Object(Ee.a)(Object(Ee.a)(a))),a.loadChannelAsync=a.loadChannelAsync.bind(Object(Ee.a)(Object(Ee.a)(a))),a.loadCookAsync=a.loadCookAsync.bind(Object(Ee.a)(Object(Ee.a)(a))),a.loadSamplesAsync=a.loadSamplesAsync.bind(Object(Ee.a)(Object(Ee.a)(a))),a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){clearInterval(this.timerID)}},{key:"componentDidMount",value:function(){var e=this;this.loadAboutAsync(),this.loadChannelAsync(),this.timerID=setInterval(function(){return e.loadChannelAsync},1e3)}},{key:"loadAboutAsync",value:function(){var e=Object(d.a)(u.a.mark(function e(){var t,a,n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.ipAddress,e.prev=1,a="http://"+t+"/about",e.next=5,fetch(a);case 5:return n=e.sent,e.next=8,n.json();case 8:(r=e.sent)&&this.setState({about:r}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[1,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"loadChannelAsync",value:function(){var e=Object(d.a)(u.a.mark(function e(){var t,a,n,r,c,i,s,l,d,h;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.ipAddress,e.prev=1,a="http://"+t+"/channel",e.next=5,fetch(a);case 5:return n=e.sent,e.next=8,n.json();case 8:(r=e.sent)&&(c=Object.keys(De).find(function(e){return De[e]===r.state}),r.isIdle=c===De.Idle,r.isRunning=c===De.Running||c===De.Finished||c===De.Stopped,r.isRunningNoiseLevel=c===De.RunningNoiseLevel,i={time:(new Date).getTime()-Ce,voltage:r.auxVoltage,temperature:r.auxTemperature},this.state.auxData.length<200?this.setState({channel:r,auxData:[].concat(Object(o.a)(this.state.auxData),[i])}):(s=Object(ye.a)(this.state.auxData),s[0],l=s.slice(1),this.setState({channel:r,auxData:[].concat(Object(o.a)(l),[i])})),r.lastStarted&&(d=r.lastStarted.ticks,h=r.lastStarted.count,this.state.cook&&this.state.cook.started.ticks===d&&this.state.cook.started.count===h||this.loadCookAsync())),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:return e.prev=15,e.finish(15);case 17:case"end":return e.stop()}},e,this,[[1,12,15,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"loadCookAsync",value:function(){var e=Object(d.a)(u.a.mark(function e(){var t,a,n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.ipAddress,e.prev=1,a="http://"+t+"/cook",e.next=5,fetch(a);case 5:return n=e.sent,e.next=8,n.json();case 8:(r=e.sent)&&(r.started.moment=Ae()(r.started.ticks-621355968e5),this.setState({cook:r,parameters:Object(b.a)({},r.parameters)})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[1,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"loadSamplesAsync",value:function(){var e=Object(d.a)(u.a.mark(function e(t){var a,n,r,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="http://"+this.props.ipAddress+"/sample?"+t.toString(),e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:(r=e.sent)&&this.state.cook&&this.state.cook.data&&t>=0&&t<this.state.cook.data.length&&(c=this.state.cook.data.map(function(e,a){return a===t?e.samples=r:e}),this.setState({cook:Object(b.a)({},this.state.cook,Object(s.a)({},c,c))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.about,a=e.channel,n=e.cook;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"About"),t?r.a.createElement(Oe.a,{src:t,displayDataTypes:!1,collapsed:!0}):r.a.createElement("div",null),r.a.createElement("h2",null,"Channel"),a?r.a.createElement(Oe.a,{src:a,displayDataTypes:!1,collapsed:!0}):r.a.createElement("div",null),r.a.createElement("h2",null,"Cook"),n?r.a.createElement(Oe.a,{src:n,displayDataTypes:!1,collapsed:!0}):r.a.createElement("div",null))}}]),t}(n.Component);Ie.protoTypes={classes:xe.a.object.isRequired,ipAddress:xe.a.string.isRequired};var Pe=Ie,Re="getting-started-nav",Ne=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).state={openDrawer:!1,openSnackbar:!1,snackbarMessage:"",selectedKey:Re,localIP:null,localDevices:[],remoteDevices:[],scanDevices:!1,isLocalScan:!1,isRemoteScan:!1,scanCompleted:0,scanTotal:0},a.toggleDrawer=function(e){return function(){a.setState({openDrawer:e})}},a.handleSnackbarClose=function(e,t){"clickaway"!==t&&a.setState({openSnackbar:!1})},a.handleListItemClick=function(e,t){a.setState({selectedKey:t})},a.handleLocalClick=function(){a.findDevices(!0)},a.handleRemoteClick=function(){a.findDevices(!1)},a.GettingStartedTitle=function(){return r.a.createElement(ee.a,{variant:"h6",color:"inherit",noWrap:!0},"ZiveLab Channels")},a.ChannelTitle=function(e){var t=e.match.params,n=a.getAbout(t.id),c=n.model.startsWith("Zive")?n.model.split(" ").slice(1).join(" "):n.model,i=n.ipAddress;return r.a.createElement(ee.a,{variant:"h6",color:"inherit",noWrap:!0},c," (",i,") - ZiveLab Channels")},a.channelPage=function(e){var t=e.match.params;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{ipAddress:t.id}))},a.gettingStartedLink=function(e){return r.a.createElement(D.b,Object.assign({to:"/"},e))},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"findDevices",value:function(){var e=Object(d.a)(u.a.mark(function e(t){var a,n,r,c=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=t?"Scanning local devices...":"Scanning remote devices...",this.setState({openSnackbar:!0,snackbarMessage:a}),t||this.state.localIP){e.next=6;break}return e.next=6,this.getLocalIPAddressAsync();case 6:n=t?"169.254.17.1":this.state.localIP,r=me(n),this.setState({isLocalScan:t,isRemoteScan:!t,scanCompleted:0,scanTotal:r.length}),r.map(function(){var e=Object(d.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.loadAboutAsync(t);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getLocalIPAddressAsync",value:function(){var e=Object(d.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(e,t){var a=window.webkitRTCPeerConnection||window.mozRTCPeerConnection;a||t("Your browser does not support this API");var n=new a({iceServers:[]});n.createDataChannel("",{reliable:!1}),n.onicecandidate=function(t){if(t.candidate){var a=function(e){var t="";return e.split("\r\n").forEach(function(e){if(~e.indexOf("a=candidate")){var a=e.split(" "),n=a[4];"host"===a[7]&&(t=n)}else if(~e.indexOf("c=")){var r=e.split(" ")[2];t=r}}),t}("a="+t.candidate.candidate);e(a)}},n.createOffer(function(e){n.setLocalDescription(e)},function(e){console.warn("offer failed",e)})});case 3:(t=e.sent)&&this.setState({localIP:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"loadAboutAsync",value:function(){var e=Object(d.a)(u.a.mark(function e(t){var a,n,r,c,i,l,d;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="169"===t.split(".").slice(0,1),n=a?"localDevices":"remoteDevices",e.prev=2,r=new Request("http://"+t+"/about"),e.next=7,fetch(r);case 7:return c=e.sent,e.next=10,c.json();case 10:if(!(i=e.sent)){e.next=16;break}if(fe(i.macAddress)){e.next=14;break}return e.abrupt("return");case 14:l={name:i.model,serialNumber:i.serialNumber,ipAddress:i.ipAddress,macAddress:i.macAddress,about:i},this.state[n].filter(function(e){return e.ipAddress===t}).length<=0&&this.setState(Object(s.a)({},n,[].concat(Object(o.a)(this.state[n]),[l])));case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),d=this.state[n].filter(function(e){return e.ipAddress===t}),this.setState(Object(s.a)({},n,this.state[n].filter(function(e){return e!==d})));case 22:return e.prev=22,this.setState({scanCompleted:this.state.scanCompleted+1}),e.finish(22);case 25:case"end":return e.stop()}},e,this,[[2,18,22,25]])}));return function(t){return e.apply(this,arguments)}}()},{key:"ScanProgress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{variant:"determinate",value:t,color:"secondary"}))}},{key:"ListDevices",value:function(e){var t=this,a=function(e){return"/device/"+e},n=function(e){return function(t){return r.a.createElement(D.b,Object.assign({to:a(e)},t))}};return e?e.map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{Inset:!0}),r.a.createElement(G.a,{button:!0,key:(a=e.ipAddress,"ip"+a),component:n(e.ipAddress),selected:t.state.selectedKey===e.ipAddress,onClick:function(a){return t.handleListItemClick(a,e.ipAddress)}},r.a.createElement(K.a,null,r.a.createElement(he.a,null)),r.a.createElement(z.a,{primary:e.name,secondary:e.ipAddress})));var a}):r.a.createElement(r.a.Fragment,null)}},{key:"getAbout",value:function(e){if(!e)return null;var t="169"===e.split(".").slice(0,1)?"localDevices":"remoteDevices";return this.state[t].find(function(t){return t.ipAddress===e}).about}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,c=this.state,i=c.openDrawer,o=c.openSnackbar,l=c.snackbarMessage,u=this.state,d=u.localIP,h=u.localDevices,p=u.remoteDevices,m=this.state,f=m.isLocalScan,v=m.isRemoteScan,b=m.scanCompleted,g=m.scanTotal,y=g>0&&b<g,E=f&&y,w=v&&y,x=y?100*b/g:0;return r.a.createElement(D.a,null,r.a.createElement("div",{className:a.root},r.a.createElement(j.a,null),r.a.createElement(P.a,{position:"fixed",className:k()(a.appBar,Object(s.a)({},a.appBarShift,i))},r.a.createElement(Q.a,{disableGutters:!i},r.a.createElement(B.a,{color:"inherit","aria-label":"Open drawer",onClick:this.toggleDrawer(!0),className:k()(a.menuButton,i&&a.hide)},r.a.createElement(ue.a,null)),r.a.createElement(L.c,null,r.a.createElement(L.a,{path:"/",exact:!0,component:this.GettingStartedTitle}),r.a.createElement(L.a,{path:"/device/:id",exact:!0,component:this.ChannelTitle})))),r.a.createElement(F.a,{className:a.drawer,variant:"persistent",anchor:"left",open:i,classes:{paper:a.drawerPaper}},r.a.createElement("div",{className:a.drawerHeader},r.a.createElement(B.a,{onClick:this.toggleDrawer(!1)},"ltr"===n.direction?r.a.createElement(ae.a,null):r.a.createElement(re.a,null))),r.a.createElement(N.a,null),r.a.createElement(G.a,{button:!0,key:Re,component:this.gettingStartedLink,selected:this.state.selectedKey===Re,onClick:function(t){return e.handleListItemClick(t,Re)}},r.a.createElement(z.a,{primary:"Getting Started"})),r.a.createElement(N.a,null),r.a.createElement(X.a,{title:"Click to scan local devices","aria-label":"Click to scan local devices"},r.a.createElement(G.a,{button:!0,key:"local-devices-nav",onClick:this.handleLocalClick,disabled:y},r.a.createElement(K.a,null,r.a.createElement(oe.a,null)),r.a.createElement(z.a,{primary:"My Devices",secondary:E?"scanning... "+b+"/"+g:h.length?"":"no devices found"}))),this.ScanProgress(!E,x),this.ListDevices(h),r.a.createElement(N.a,null),r.a.createElement(X.a,{title:"Click to scan remote devices","aria-label":"Click to scan remote devices"},r.a.createElement(G.a,{button:!0,key:"remote-devices-nav",onClick:this.handleRemoteClick,disabled:y},r.a.createElement(K.a,null,r.a.createElement(oe.a,null)),r.a.createElement(z.a,{primary:"Remote Devices",secondary:w?"scanning... "+b+"/"+g:p.length?d:"no devices found"}))),this.ScanProgress(!w,x),this.ListDevices(p),r.a.createElement(N.a,null)),r.a.createElement("main",{className:k()(a.content,Object(s.a)({},a.contentShift,i))},r.a.createElement("div",{className:a.drawerHeader}),r.a.createElement(L.c,null,r.a.createElement(L.a,{path:"/",exact:!0,component:ke}),r.a.createElement(L.a,{path:"/device/:id",exact:!0,component:this.channelPage}))),r.a.createElement(Y.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:o,autoHideDuration:2e3,onClose:this.handleSnackbarClose,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},l),action:[r.a.createElement(B.a,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.handleSnackbarClose},r.a.createElement(ie.a,null))]})))}}]),t}(r.a.Component),Te=C(Object(y.withStyles)(function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},badgeMargin:{margin:2*e.spacing.unit},menuButton:{marginLeft:12,marginRight:20},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(b.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:3*e.spacing.unit,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}},{withTheme:!0})(Ne));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Te,null),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[122,1,2]]]);
//# sourceMappingURL=main.b1b4e14c.chunk.js.map